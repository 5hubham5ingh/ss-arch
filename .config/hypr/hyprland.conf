
# Source a file (multi-file configs)
source = ~/.config/hypr/WallWizTheme.conf

monitor=,1920x1080@60,auto,1

#======================== Startup Apps ========================
# Wallpaper
exec-once = hyprpaper
# exec-once = swww-daemon

# Notification daemon
exec-once = dunst


# Open system dashboard
exec-once = hyprctl dispatch togglespecialworkspace dashboard
#--------------------------------------------------------------

# env vaiables
env = TERMINAL,kitty -1 --hold
env = WALLPAPER_DIR, /home/ss/pics/walls/

#======================= Apllications =========================
$firefoxDeveloperEdition = firefox-developer-edition
$terminal = kitty -1 -o allow_remote_control=yes
$dashboard = kitty -1 -o allow_remote_control=yes --hold -o background_opacity=0.6 sh -c "/home/ss/.scripts/sh/dashboard.sh"
$applicationMenu = kitty -1 -o allow_remote_control=yes --class=applicationMenu --title=applicationMenu -o background_opacity=0.5 qjs ~/dev/jiffy/main.js -c --fzf-args="--preview-window=down,1,wrap,border-top" 
$power-menu = kitty -1 -o allow_remote_control=yes --class=applicationMenu --title=applicationMenu jiffy -m "Power Menu"
$lockscreen = [float] sddm-greeter-qt6 --test-mode --theme /usr/share/sddm/themes/forest
$WallWiz = kitty -1 -o allow_remote_control=yes -o background_opacity=0.5 --title=WallWiz WallWiz -e -s 109x29 -d ~/pics/walls/
$WallWizRandom = kitty -1 -o allow_remote_control=yes --class=hidden WallWiz -r -d ~/pics/walls/
#--------------------------------------------------------------

# Set random wallpaper and theme
exec-once = $WallWizRandom

#======================== Sepcial Workspaces ==========================
workspace = special:dashboard, gapsout:50, bordersize:5, on-created-empty:$dashboard 
workspace = special:terminal, gapsout:50, bordersize:5, on-created-empty:$terminal -o background_opacity=0.7
workspace = special:login, on-created-empty:$lockscreen, gapsout:0
workspace = special:extra, bordersize:5
#--------------------------------------------------------------

# Some default env vars.
env = XCURSOR_SIZE,24


input {
    kb_layout = us
    kb_variant =
    kb_model =
    kb_options = ctrl:nocaps
    kb_rules =
    follow_mouse = 1
    #follow_mouse = 2 enable when keys for window focus are mapped
    touchpad {
        natural_scroll = yes
    }
    sensitivity = 0 # -1.0 - 1.0, 0 means no modification.
    repeat_delay = 300
    repeat_rate = 50
}

general {
    gaps_in = 2
    gaps_out = 5
    border_size = 0
    layout = master 
    allow_tearing = false
    resize_on_border = true
    extend_border_grab_area = 20
}

decoration {
    rounding = 5
    active_opacity= 0.85
    inactive_opacity= 0.8
    blur {
        enabled = true
        size = 7
        passes = 1
        xray = false
        special = true
    }
    drop_shadow = no
    shadow_range = 15
    shadow_render_power = 2
}

animations {
    enabled = yes
    first_launch_animation = true
    bezier = myBezier, 0.05, 0.9, 0.1, 1.05
    bezier = switchWs,0.61, 1, 0.88, 1
    animation = windows, 1, 7, myBezier
    animation = windowsOut, 1, 7, default, popin 80%
    animation = border, 1, 10, default
    animation = borderangle, 1, 8, default
    animation = fade, 1, 7, default
    animation = workspaces, 1, 3, switchWs
#    animation = specialWorkspace, 1, 5, myBezier, slidefadevert -50%
    animation = specialWorkspace, 1, 5, myBezier, slidevert
    animation = windowsIn, 1, 7, myBezier, popin 70%
}


master {
    new_status = master
    mfact = 0.50
    new_on_top = true
    allow_small_split = true
}

gestures {
    workspace_swipe = off
}

misc {
    force_default_wallpaper = 0 # Set to 0 to disable the anime mascot wallpapers
    disable_hyprland_logo = true 
    focus_on_activate = true
    vfr = true
}

# Example per-device config
device:epic-mouse-v1 {
 #   sensitivity = -0.5
}


#-------------------------------- Window rules ----------------------------------------

# kitty
windowrulev2 = opacity 1 override, floating:1
windowrulev2 = size 30% 30% override, floating:1
windowrulev2 = opacity 1 override, floating:0, focus:1, class:^(kitty)$ 
windowrulev2 = opacity 0.9 override, floating:0, focus:0, class:^(kitty)$ 

# vlc
windowrulev2 = opacity 1 override, class:^(vlc)$

# jiffy
windowrulev2 = float, title:^(applicationMenu)$ 
windowrulev2 = move 13.5% 20%, title:^(applicationMenu)$
windowrulev2 = size 1400 410, title:^(applicationMenu)$ 
windowrulev2 = animation slide up, title:^(applicationMenu)$
windowrulev2 = bordersize 0, title:^(applicationMenu)$
windowrulev2 = rounding 10, title:^(applicationMenu)$
windowrulev2 = dimaround, title:^(applicationMenu)$
windowrulev2 = pin, title:^(applicationMenu)$
windowrulev2 = stayfocused, title:^(applicationMenu)$

# WallWiz
windowrulev2 = float, title:^(WallWiz)$ 
windowrulev2 = size 70% 70%, title:^(WallWiz)$
windowrulev2 = animation slide top, title:^(WallWiz)$
windowrulev2 = dimaround, title:^(WallWiz)$
windowrulev2 = pin, title:^(WallWiz)$
windowrulev2 = center 1, title:^(WallWiz)$
windowrulev2 = bordersize 5, title:^(WallWiz)$

# Vs Code
windowrulev2 = fullscreenstate: 1 2, class:^(Code)$

# hidden window
windowrulev2 = float, class:^(hidden)$
windowrulev2 = size 0% 0%, class:^(hidden)$
windowrulev2 = nofocus, class:^(hidden)$


#-------------------------------- Keybinding ------------------------------------

$mainMod = Win
$ctrlMod = Ctrl_l

bindm = $mainMod, mouse:272, movewindow
# Apps
bind = $mainMod, F, exec, $fileManager
bind = $mainMod, Return, exec, $applicationMenu
bind = ,f3, exec, $WallWiz
bind = $mainMod, f3, exec, $WallWizRandom

bind = $mainMod, F4, killactive, 
# bind = $mainMod, P, pseudo, # dwindle
# bind = $mainMod, H, togglesplit, # dwindle

# Move focus on windows
bind = $mainMod, h, movefocus, l
bind = $mainMod, l, movefocus, r
bind = $mainMod, k, movefocus, u
bind = $mainMod, j, movefocus, d

# Switch workspaces with mainMod + [0-9]
bind = $mainMod, 1, workspace, 1
bind = $mainMod, 1, layoutmsg, mfact exact 0.70
bind = $mainMod, 2, workspace, 2
bind = $mainMod, 3, workspace, 3
bind = $mainMod, 4, workspace, 4
bind = $mainMod, 5, workspace, 5
bind = $mainMod, 6, workspace, 6
bind = $mainMod, 7, workspace, 7
bind = $mainMod, 8, workspace, 8
bind = $mainMod, 9, workspace, 9
bind = $mainMod, 0, workspace, 10

# Move active window to a workspace with mainMod + SHIFT + [0-9]
bind = $mainMod SHIFT, 1, movetoworkspace, 1
bind = $mainMod SHIFT, 2, movetoworkspace, 2
bind = $mainMod SHIFT, 3, movetoworkspace, 3
bind = $mainMod SHIFT, 4, movetoworkspace, 4
bind = $mainMod SHIFT, 5, movetoworkspace, 5
bind = $mainMod SHIFT, 6, movetoworkspace, 6
bind = $mainMod SHIFT, 7, movetoworkspace, 7
bind = $mainMod SHIFT, 8, movetoworkspace, 8
bind = $mainMod SHIFT, 9, movetoworkspace, 9
bind = $mainMod SHIFT, 0, movetoworkspace, 10
bind = $mainMod SHIFT, t, movetoworkspace, special:terminal
bind = $mainMod SHIFT, x, movetoworkspace, special:extra

# Toggle between workspaces
bind = $mainMod,TAB,workspace,previous
bind = $mainMod,Tab,bringactivetotop

# Swap master and slave windows
#bind = Ctrl_L, w, cyclenext
bind = $mainMod SHIFT,Tab,layoutmsg, swapwithmaster master 

# Special workspace 
bind = $mainMod, d, togglespecialworkspace, dashboard
bind = $mainMod, t, togglespecialworkspace, terminal
bind = $mainMod, x, togglespecialworkspace, extra
bind = $mainMod, escape, togglespecialworkspace, login
bind = $mainMod SHIFT, S, movetoworkspace, special:magic

# Scroll through existing workspaces with mainMod + scroll
#bind = $altMod, Tab, workspace, e+1
#bind = $mainMod, Tab, workspace, e+1


# Move/resize windows with mainMod + LMB/RMB and dragging
binde=$mainMod , bracketRight, resizeactive,10 0
binde=$mainMod , bracketLeft, resizeactive,-10 0
binde=$mainMod , equal, resizeactive,0 -1
binde=$mainMod , minus, resizeactive,0 1
bind=$mainMod , backslash, togglefloating

# Custom scripts
bind = ,power-button, exec, $power-menu
bind = $mainMod, B, exec, firefox
bind = ,f2, exec, $terminal
binde =, XF86MonBrightnessUp, exec, brightnessctl s 1%+
binde =, XF86MonBrightnessDown, exec, brightnessctl s 1%-
binde =, XF86AudioRaiseVolume, exec, pactl set-sink-volume @DEFAULT_SINK@ +10%
binde =, XF86AudioLowerVolume, exec, pactl set-sink-volume @DEFAULT_SINK@ -10%
bind = $mainMod, s, exec, hyprshot -m window -o ~/pics/screenshots
bind = $mainMod SHIFT, s, exec, hyprshot -m output -o ~/pics/screenshots
