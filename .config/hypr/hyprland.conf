
# Source a file (multi-file configs)
source = ~/.config/hypr/WallWizTheme.conf

monitor=,1920x1080@60,auto,1

#======================== Startup Apps ========================
# Wallpaper
exec-once = hyprpaper

# Notification daemon
exec-once = dunst


# Open system dashboard
exec-once = hyprctl dispatch togglespecialworkspace dashboard
#--------------------------------------------------------------


#======================= Apllications =========================
$firefoxDeveloperEdition = firefox-developer-edition
$terminal = kitty -1 -o allow_remote_control=yes
$dashboard = kitty -1 -o allow_remote_control=yes --title=dashboard --hold sh -c "/home/ss/.scripts/dashboard.sh"
$applicationMenu = kitty -1 -o allow_remote_control=yes --class=applicationMenu --title=applicationMenu sh -c "qjs ~/dev/qjs/jiffy/main.js"
$power-menu = kitty -1 -o allow_remote_control=yes --class=applicationMenu --title=applicationMenu sh -c "qjs ~/dev/qjs/jiffy/main.js -l Power_menu"
$lockscreen = [float] sddm-greeter-qt6 --test-mode --theme /usr/share/sddm/themes/forest
$WallWiz = kitty -1 -o allow_remote_control=yes --title=WallWiz sh -c "WallWiz -e -s 109x29 -d ~/Downloads/wallpapers"
$WallWizRandom = kitty -1 -o allow_remote_control=yes --class=hidden WallWiz -r -d ~/Downloads/wallpapers
#--------------------------------------------------------------

# Set random wallpaper and theme
exec-once = $WallWizRandom

#======================== Sepcial Workspaces ==========================
workspace = special:dashboard, on-created-empty:$dashboard 
workspace = special:terminal, gapsout:50, bordersize:2, on-created-empty:$terminal
workspace = special:login, on-created-empty:$lockscreen, gapsout:0
workspace = special:hidden
#--------------------------------------------------------------

# Some default env vars.
env = XCURSOR_SIZE,24


input {
    kb_layout = us
    kb_variant =
    kb_model =
    kb_options = ctrl:nocaps
    kb_rules =
    follow_mouse = 1
    #follow_mouse = 2 enable when keys for window focus are mapped
    touchpad {
        natural_scroll = yes
    }
    sensitivity = 0 # -1.0 - 1.0, 0 means no modification.
    repeat_delay = 300
    repeat_rate = 50
}

general {
    gaps_in = 2
    gaps_out = 5
    border_size = 0
    layout = master 
    allow_tearing = false
    resize_on_border = true
    extend_border_grab_area = 20
}

decoration {
    rounding = 5
    active_opacity= 0.85
    inactive_opacity= 0.8
    blur {
        enabled = true
        size = 7
        passes = 1
        xray = false
        special = true
    }
    drop_shadow = no
    shadow_range = 15
    shadow_render_power = 2
}

animations {
    enabled = yes
    first_launch_animation = true
    bezier = myBezier, 0.05, 0.9, 0.1, 1.05
    bezier = switchWs,0.61, 1, 0.88, 1
    animation = windows, 1, 7, myBezier
    animation = windowsOut, 1, 7, default, popin 80%
    animation = border, 1, 10, default
    animation = borderangle, 1, 8, default
    animation = fade, 1, 7, default
    animation = workspaces, 1, 3, switchWs
    animation = specialWorkspace, 1, 5, myBezier, slidefadevert -50%
    animation = windowsIn, 1, 7, myBezier, popin 70%
}


master {
    new_status = master
    mfact = 0.30
    new_on_top = true
    allow_small_split = true
}

gestures {
    workspace_swipe = off
}

misc {
    force_default_wallpaper = 0 # Set to 0 to disable the anime mascot wallpapers
    disable_hyprland_logo = true 
    focus_on_activate = true
    vfr = true
}

# Example per-device config
device:epic-mouse-v1 {
 #   sensitivity = -0.5
}


#-------------------------------- Window rules ----------------------------------------

windowrulev2 = opacity 1 override, floating:1
windowrulev2 = opacity 1 override, floating:0, focus:1, class:^(kitty)$ 
windowrulev2 = opacity 0.9 override, floating:0, focus:0, class:^(kitty)$ 
windowrulev2 = opacity 1 override, class:^(vlc)$

# applicationMenu window
windowrulev2 = float, title:^(applicationMenu)$ 
#windowrulev2 = move 30% 30%, title:^(applicationMenu)$
windowrulev2 = size 50% 50%, title:^(applicationMenu)$
windowrulev2 = animation slide bottom, title:^(applicationMenu)$
windowrulev2 = bordersize 3, title:^(applicationMenu)$
windowrulev2 = dimaround, title:^(applicationMenu)$
windowrulev2 = center 1, title:^(applicationMenu)$
windowrulev2 = pin, title:^(applicationMenu)$
windowrulev2 = opacity 1 override, title:^(applicationMenu)$

# WallWiz
windowrulev2 = float, title:^(WallWiz)$ 
windowrulev2 = size 70% 70%, title:^(WallWiz)$
windowrulev2 = animation slide top, title:^(WallWiz)$
windowrulev2 = dimaround, title:^(WallWiz)$
windowrulev2 = pin, title:^(WallWiz)$
windowrulev2 = center 1, title:^(WallWiz)$
windowrulev2 = bordersize 3, title:^(WallWiz)$

# hidden window
windowrulev2 = float, class:^(hidden)$
windowrulev2 = size 0% 0%, class:^(hidden)$
windowrulev2 = nofocus, class:^(hidden)$

#------------------------------ Workspace rules -----------------------------------
#workspace=eDP-1,2,layoutopt:border:gaps_out:0:gapsin:0
workspace=name:terminal,gapsin:50,gapsout:50
workspace=name:login,decorate:false

#-------------------------------- Keybinding ------------------------------------

binds {
    workspace_back_and_forth = true
}

$mainMod = Win
$ctrlMod = Ctrl_l

# Apps
bind = $mainMod, F, exec, $fileManager
bind = $mainMod, Return, exec, $applicationMenu
bind = ,f3, exec, $WallWiz
bind = $mainMod, f3, exec, $WallWizRandom

bind = , F4, killactive, 
bind = $mainMod, P, pseudo, # dwindle
bind = $mainMod, H, togglesplit, # dwindle

# Move focus on windows
bind = $ctrlMod, h, movefocus, l
bind = $ctrlMod, l, movefocus, r
bind = $ctrlMod, k, movefocus, u
bind = $ctrlMod, j, movefocus, d

# Switch workspaces with mainMod + [0-9]
bind = $mainMod, 1, workspace, 1
bind = $mainMod, 1, layoutmsg, mfact exact 0.70
bind = $mainMod, 2, workspace, 2
bind = $mainMod, 3, workspace, 3
bind = $mainMod, 4, workspace, 4
bind = $mainMod, 5, workspace, 5
bind = $mainMod, 6, workspace, 6
bind = $mainMod, 7, workspace, 7
bind = $mainMod, 8, workspace, 8
bind = $mainMod, 9, workspace, 9
bind = $mainMod, 0, workspace, 10


# Switch windows 
# bind = $altMod, 1, exec, ~/.scripts/goto-window.sh 1
# bind = $altMod, 2, exec, ~/.scripts/goto-window.sh 2
# bind = $altMod, 3, exec, ~/.scripts/goto-window.sh 3
# bind = $altMod, 4, exec, ~/.scripts/goto-window.sh 4
# bind = $altMod, 5, exec, ~/.scripts/goto-window.sh 5
# bind = $altMod, 6, exec, ~/.scripts/goto-window.sh 6
# bind = $altMod, 7, exec, ~/.scripts/goto-window.sh 7
# bind = $altMod, 8, exec, ~/.scripts/goto-window.sh 8
# bind = $altMod, 9, exec, ~/.scripts/goto-window.sh 9

# Move active window to a workspace with mainMod + SHIFT + [0-9]
bind = $mainMod SHIFT, 1, movetoworkspace, 1
bind = $mainMod SHIFT, 2, movetoworkspace, 2
bind = $mainMod SHIFT, 3, movetoworkspace, 3
bind = $mainMod SHIFT, 4, movetoworkspace, 4
bind = $mainMod SHIFT, 5, movetoworkspace, 5
bind = $mainMod SHIFT, 6, movetoworkspace, 6
bind = $mainMod SHIFT, 7, movetoworkspace, 7
bind = $mainMod SHIFT, 8, movetoworkspace, 8
bind = $mainMod SHIFT, 9, movetoworkspace, 9
bind = $mainMod SHIFT, 0, movetoworkspace, 10

# Toggle between workspaces
bind = $mainMod,TAB,workspace,previous

# Swap master and slave windows
#bind = Ctrl_L, w, cyclenext
bind = $mainMod SHIFT,Tab,layoutmsg, swapwithmaster master 

# Special workspace 
bind = $mainMod, d, togglespecialworkspace, dashboard
bind = $mainMod, t, togglespecialworkspace, terminal
bind = $mainMod, escape, togglespecialworkspace, login
bind = $mainMod SHIFT, S, movetoworkspace, special:magic

# Scroll through existing workspaces with mainMod + scroll
#bind = $altMod, Tab, workspace, e+1
#bind = $mainMod, Tab, workspace, e+1


# Move/resize windows with mainMod + LMB/RMB and dragging
binde=$mainMod , bracketRight, resizeactive,10 0
binde=$mainMod , bracketLeft, resizeactive,-10 0
binde=$mainMod , equal, resizeactive,0 -10
binde=$mainMod , minus, resizeactive,0 10
bind=$mainMod , backslash, togglefloating

# Custom scripts
bind = ,power-button, exec, $power-menu
bind = $mainMod, B, exec, firefox
bind = ,f2, exec, $terminal
binde =, XF86MonBrightnessUp, exec, brightnessctl s 1%+
binde =, XF86MonBrightnessDown, exec, brightnessctl s 1%-
binde =, XF86AudioRaiseVolume, exec, pactl set-sink-volume @DEFAULT_SINK@ +10%
binde =, XF86AudioLowerVolume, exec, pactl set-sink-volume @DEFAULT_SINK@ -10%

